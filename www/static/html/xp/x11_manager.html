<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="Command output">
		<meta name="author" content="max1220">
		<title>ðŸ–µ X11 manager</title>
		<link rel="stylesheet" href="/static/css/xp/style.css">
		<link rel="stylesheet" href="/static/css/xp/application.css">
		<style>
			.sessions_list th {
				text-align: left;
			}
			.sessions_list tr {
				height: 20px;
			}
			.sessions_list td {
				border-top: 1px solid #999;
			}
			.sessions_list td:last-child {
				border-top: none;
			}
			.sessions_list td a {
				text-decoration: none;
			}
		</style>
	</head>
	<body onload="window_onload()">
		<div class="window-content">
			<p>
				The X11 streamer allows you to stean the content of an X11 display,
				stream inputs to such a display, and create such a display from a command.
				<br>
				ffmpeg is used to encode the display content as an mjpeg-stream, and
				xdotool is used to send input to the display.
			</p>

			<div class="container">
				<h3>New session from command</h3>
				<p>Please enter the command to run in the X11 session:</p>
				<div class="field-row">
					<label for="create_command">Command:</label>
					<input type="text" name="create_command" id="create_command" data-update-key="create_command" data-update-type="input-text" data-update-onchange value="xterm">
				</div>
				<br>
				<div class="field-row">
					<span></span>
					<a class="btn" onclick="btn_create_from_command()">Run command</a>
				</div>

				<hr>

				<h3>Configure manually</h3>
				<p>You can adjust all settings and create or connect a session manually.</p>
				<div class="field-row">
					<span></span>
					<a class="btn" href="/static/html/xp/x11_stream.html">Show settings dialog</a>
				</div>
			</div>


			<br>

			<div class="container">
				<h3>Running sessions</h3>
				<p>Click the session name to connect to the X11 session.</p>
				<p>The kill button will stop a session.</p>
				<table id="sessions_list" class="sessions_list">
					<thead>
						<tr>
							<th style="width: 100%;">Session ID</th>
							<th>Display</th>
							<th>&nbsp;</th>
						</tr>
					</thead>
					<tbody id="session_list_content"></tbody>
				</table>
			</div>
		</div>

		<script src="/static/js/fix_link_targets_iframe.js"></script>
		<script src="/static/js/fix_open_target.js"></script>
		<script src="/static/js/make_xhr.js"></script>
		<script src="/static/js/AppState.js"></script>
		<script src="/static/js/CgiCommands.js"></script>
		<script src="/static/js/X11Streamer.js"></script>
		<script src="/static/js/xp/x11_manager.js"></script>
	</body>
	<!--
These values are read outside of the iframe
to determine the prefered size of this window:
{{{window_width=350}}}
{{{window_height=600}}}
{{{window_resizeable}}}
-->
</html>
