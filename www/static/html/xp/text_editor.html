<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="Run command dialog">
		<meta name="author" content="max1220">
		<title>ðŸ–¹ Text editor</title>
		<link rel="stylesheet" href="/static/css/xp/style.css">
		<link rel="stylesheet" href="/static/css/xp/application.css">
		<style>
			:root {
				--windows-content-padding: 1px;
			}
			.text_content {
				width: 100%;
				height: 100%;
				border: none;
				outline: none;
			}
			.preview_content {
				border-left: 1px solid #888;
				resize: horizontal;
				padding: 15px;
			}
			.splitview {
				height: 100%;
				width: 100%;
				display: flex;
			}
		</style>
	</head>
	<body>
		<div class="menu-bar">
			<div class="menu-row">
				<div style="position: relative;">
					<a class="menu-category">File</a>
					<div class="menu-sub" hidden>
						<a onclick="show_popup('open-window')" class="menu-item">Open</a>
						<a onclick="btn_save()"class="menu-item hiddenx">Save</a>
						<a onclick="show_popup('saveas-window')" class="menu-item">Save as</a>
						<div class="menu-spacer"></div>
						<a href="about:blank" class="menu-item">Exit</a>
					</div>
				</div>
				<div style="position: relative;">
					<a class="menu-category">View</a>
					<div class="menu-sub" hidden>
						<a onclick="btn_toggle_wrap()" class="menu-item">Toggle line wrap</a>
						<a onclick="btn_toggle_preview()" class="menu-item">Toggle preview</a>
					</div>
				</div>
				<div style="position: relative;">
					<a class="menu-category">Help</a>
					<div class="menu-sub" hidden>
						<a onclick="show_popup('about-window')" class="menu-item">About</a>
					</div>
				</div>
			</div>
		</div>

		<!-- This form is submitted from JS -->
		<div class="window-content">
			<div class="splitview">
				<textarea name="text_content" id="text_content" class="text_content"></textarea>
				<div id="preview_content" class="preview_content hidden"></div>
			</div>
		</div>

		<div class="status-bar">
			<span class="status-bar-field" id="status_left"></span>
			<span class="status-bar-field" id="status_middle"></span>
			<span class="status-bar-field" id="cursor_right"></span>
		</div>

		<div id="popups" class="popups hidden">
			<div id="about-window" class="window hidden">
				<div class="title-bar">
					<div class="title-bar-text">About text editor</div>
					<div class="title-bar-controls">
						<button aria-label="Close" onclick="close_popup()"></button>
					</div>
				</div>
				<div class="window-body">
					<div class="window-content">
						<h3>Text editor</h3>
						<p>Just a simple text editor</p>
						<ul>
							<li>CGI API written in bash</li>
							<li>Front-end written in plain Javascript</li>
						</ul>
						<br>
						<br>
						<div class="btn-panel">
							<span></span>
							<button class="btn" onclick="close_popup()">Close</button>
						</div>
					</div>
				</div>
			</div>

			<div id="open-window" class="window hidden">
				<div class="title-bar">
					<div class="title-bar-text">Open file...</div>
					<div class="title-bar-controls">
						<button onclick="close_popup()" aria-label="Close"></button>
					</div>
				</div>
				<div class="window-body">
					<div class="window-content">
						<p>Please enter the path of the file to open:</p>

						<div class="field-row">
							<label for="open_file_path">File&nbsp;path:</label>
							<input type="text" id="open_file_path" name="open_file_path">
						</div>
						<br>
						<br>
						<div class="btn-panel">
							<span></span>
							<button class="btn" onclick="btn_open()">Ok</button>
						</div>
					</div>
				</div>
			</div>

			<div id="saveas-window" class="window hidden">
				<div class="title-bar">
					<div class="title-bar-text">Save file as...</div>
					<div class="title-bar-controls">
						<button onclick="close_popup()" aria-label="Close"></button>
					</div>
				</div>
				<div class="window-body">
					<div class="window-content">
						<p>Please enter the path to save the file as:</p>

						<div class="field-row">
							<label for="saveas_file_path">File&nbsp;path:</label>
							<input type="text" id="saveas_file_path" name="saveas_file_path">
						</div>
						<br>
						<br>
						<div class="btn-panel">
							<span></span>
							<button class="btn" onclick="btn_saveas()">Save as</button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<script src="/static/js/popups.js"></script>
		<script src="/static/js/make_xhr.js"></script>
		<script src="/static/js/xp/text_editor.js"></script>
	</body>

<!--
These values are read outside of the iframe
to determine the prefered size of this window:
{{{window_width=600}}}
{{{window_height=400}}}
{{{window_resizeable}}}
-->
</html>




