<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="Run command dialog">
		<meta name="author" content="max1220">
		<title>üåê Browser</title>
		<link rel="stylesheet" href="/static/css/xp/style.css">
		<link rel="stylesheet" href="/static/css/xp/application.css">
		<style>
			html, body {
				padding: 0 0;
				margin: 0 0;
				box-sizing: border-box;
				user-select: none;
			}
			html {
				height: 100%;
			}
			body {
				min-height: 100%;
			}

			menu {
				display: flex;
				position: relative;
				margin: 0 0;
				padding: 0 0;
			}
			menuitem {
				padding: 0.3em;
			}

			iframe {
				box-sizing: border-box;
				background-color: #fff;
				width: 100%;
				height: 100%;
			}
			.outer {
				padding: 0 0;
				margin: 0 0;
				width: 100%;
				height: 100%;
				position: absolute;
			}
			.inner-menu {
				height: 30px;

			}
			.inner-full {
				height: calc(100% - 50px);
			}
		</style>
	</head>
	<body>
		<div class="outer">
			<div class="inner">
				<menu>
					<menuitem>
						<button id="back">Back</button>
					</menuitem>
					<menuitem>
						<button id="forward">Forward</button>
					</menuitem>
					<menuitem>
						<button id="home">Home</button>
					</menuitem>
					<menuitem style="width: 100%;">
						<input type="text" id="urlbar" style="width: 100%">
					</menuitem>
					<menuitem>
						<button id="go">Go</button>
					</menuitem>
				</menu>
			</div>
			<div class="inner-full">
				<iframe id="browser-content"></iframe>
			</div>
			<div class="status-bar">
				<p class="status-bar-field" id="urlstatus"></p>
			</div>
		</div>
		<script>
			let iframe_elem = document.getElementById("browser-content")
			let urlbar_elem = document.getElementById("urlbar")
			let urlstatus_elem = document.getElementById("urlstatus")
			let back_elem = document.getElementById("back")
			let forward_elem = document.getElementById("forward")
			let home_elem = document.getElementById("home")
			let go_elem = document.getElementById("go")

			iframe_elem.onload = function() {
				let current_url = iframe_elem.contentWindow.location.href
				urlstatus_elem.innerHTML = "Loaded: " + current_url
			}

			go_elem.onclick = function() {
				iframe_elem.src = urlbar.value
			}

			back_elem.onclick = function() {
				iframe_elem.contentWindow.history.back()
			}

			forward_elem.onclick = function() {
				iframe_elem.contentWindow.history.forward()
			}

			home_elem.onclick = function() {
				iframe_elem.src = "about:blank"
			}


		</script>
	</body>
<!--
These values are read outside of the iframe
to determine the prefered size of this window:
{{{window_width=800}}}
{{{window_height=600}}}
{{{window_resizeable}}}
-->
</html>




